<div class="tools-container" ui-event="{ dragover: 'dragoverContainer($event)', drop: '$event.preventDefault()' }">
  <div class="widget-options">
    {{#forEach 'option' in taggedPhoto.sortedOptions}}
      <div data-option="{{expression " option.name.toLowerCase() "}}" class="widget-option" data-ng-repeat="option in taggedPhoto.sortedOptions" data-ng-attr-data-option="&#123;&#123;option.name.toLowerCase()&#125;&#125;">

        <div class="name"><span data-ng-bind="option.name">{{option.name}}</span>
        </div>
        {{#ifExpression "option.type == 'checkbox'"}}
          <input data-ng-if="option.type == 'checkbox'" type="checkbox" data-ng-model="option.model">
        {{/ifExpression}}
        >
        {{#ifExpression "option.type == 'range'"}}
          <input min="{{option.min}}" max="{{option.max}}" step="{{option.step}}" data-ng-if="option.type == 'range'" type="range" data-ng-model="option.model" data-ng-attr-min="&#123;&#123;option.min&#125;&#125;">
        {{/ifExpression}}
        ="option for option in option.options"></select>
      </div>
    {{/forEach}}



    <div class="share-embed">
      <div class="share-container">
        <div class="share-label">Share</div>
        <div class="share-buttons">
          <a data-ng-click="toolShare('facebook')" class="fa fa-facebook social-icon"></a>
          <a data-ng-click="toolShare('twitter')" class="fa fa-twitter social-icon"></a>
          <a data-ng-click="toolShare('tumblr')" class="fa fa-tumblr social-icon"></a>

          <a data-ng-click="toolShare('pinterest')" class="fa fa-pinterest social-icon"></a>
          <a data-ng-click="toolShare('mail')" class="fa fa-envelope social-icon"></a>
        </div>
      </div>
      <div class="code-container">
        <div class="code-label">Embed</div>
        <textarea data-ng-click="clickEmbedCode($event)" data-ng-keypress="keypressEmbedCode($event)" class="code">
          <div data-ss-widget="grid" data-ss-widget-options='{ "br": <span data-ng-bind="taggedPhoto.options.brand.model">{{taggedPhoto.options.brand.model}}</span>, "pr": <span data-ng-bind="taggedPhoto.options.price.model">{{taggedPhoto.options.price.model}}</span>, "ds": <span data-ng-bind="taggedPhoto.options.dotShadow.model">{{taggedPhoto.options.dotShadow.model}}</span>, "ts": <span data-ng-bind="taggedPhoto.options.tagShadow.model">{{taggedPhoto.options.tagShadow.model}}</span>, "ds": <span data-ng-bind="taggedPhoto.options.dotSize.model">{{taggedPhoto.options.dotSize.model}}</span>, "do": <span data-ng-bind="taggedPhoto.options.dotOpacity.model">{{taggedPhoto.options.dotOpacity.model}}</span>, "to": <span data-ng-bind="taggedPhoto.options.tagOpacity.model">{{taggedPhoto.options.tagOpacity.model}}</span>, "dc": <span data-ng-bind="taggedPhoto.options.dotColor.model">{{taggedPhoto.options.dotColor.model}}</span>, "tc": <span data-ng-bind="taggedPhoto.options.tagColor.model">{{taggedPhoto.options.tagColor.model}}</span> } '></div>
          <script src=""></script>
        </textarea>

      </div>
    </div>
  </div>

  <div data-ng-class="{ fade: state.loading }" class="widget-preview tagged-photo">
    <div data-ng-show="!selectedProducts.length" {{hbsShow "!selectedProducts.length"}} class="no-results center block">You have no products selected! First search for products and click 'Add to Quicklist' to add items to your quicklist</div>
    <div outlet="imageContainer" data-ng-class="{ dragover: dragover }" class="drop-your-photo" ui-event="{ drop: 'dropImage($event)', dragenter: 'dragover = true', dragleave: 'dragover = false' }">
      <div data-ng-hide="droppedImage.src" {{hbsHide "droppedImage.src"}} class="drop-your-photo-text">
        <i class="fa fa-arrow-circle-down drop-photo-icon"></i>
        Drop your photo here
        {{#if pageImages.length}}
          <div data-ng-if="pageImages.length" class="or-use-photo-from-this-page">

            or use a photo from this page:
            <div class="page-images">
              {{#forEach 'img' in pageImages}}
                <a data-ng-click="setDroppedImage(img)" data-ng-repeat="img in pageImages">

              <img class="page-image" data-ng-src="&#123;&#123;img&#125;&#125;" src="<span data-ng-bind="img">{{img}}</span>" >
            </a>
              {{/forEach}}

            </div>
          </div>
        {{/if}}

      </div>
      <img data-ng-show="droppedImage.src" {{hbsShow "droppedImage.src"}} class="dropped-image" outlet="droppedImage">
      <div data-ng-style="tagContainerStyle" data-ng-show="droppedImage.src" {{hbsShow "droppedImage.src"}} data-ng-click="addTag($event)" class="tags-container">
        {{#forEach 'tag' in tags}}
          <div draggable="true" ui-event="{ dragstart: 'dragstartTag($event, tag)', drag: 'dragTag($event, tag)', dragend: 'dragendTag($event, tag)' }" data-ng-mouseenter="tag.show = true" data-ng-style="{ top: tag.y * 100 + '%', left: tag.x * 100 + '%', opacity: taggedPhoto.options.dotOpacity.model, width: taggedPhoto.options.dotSize.model + 'px', height: taggedPhoto.options.dotSize.model + 'px', backgroundColor: taggedPhoto.options.dotColor.model, boxShadow: taggedPhoto.options.dotShadow.model ? null : 'none' }"
          class="tag" data-ng-repeat="tag in tags">
          </div>
        {{/forEach}}

        {{#forEach 'tag' in tags}}
          <div data-ng-mouseleave="tag.show = false" data-ng-repeat="tag in tags" data-ng-show="tag.show" {{hbsShow "tag.show"}} data-ng-style="{ top: tag.y * 100 + '%', left: tag.x * 100 + '%', opacity: taggedPhoto.options.tagOpacity.model, backgroundColor: taggedPhoto.options.tagColor.model, boxShadow: taggedPhoto.options.tagShadow.model ? null : 'none' }"
          class="tag-body">

            {{#unless tag.product}}
              <div data-ng-if="!tag.product" class="choose-product fill">

                <div class="title">Choose a product</div>
                <div class="choose-product-images scroll">
                  {{#forEach 'product' in selectedProducts}}
                    <a data-ng-click="tag.product = product" class="choose-product-for-tag" data-ng-repeat="product in selectedProducts">

                <img data-ng-src="&#123;&#123;product.image.sizes.Small.url&#125;&#125;" src="<span data-ng-bind="product.image.sizes.Small.url">{{product.image.sizes.Small.url}}</span>" >
              </a>
                  {{/forEach}}

                  <a data-ng-click="openTab.name = 'search'" class="fa fa-plus-circle add-product-to-tag"></a>
                </div>
              </div>
            {{/unless}}

            {{#if tag.product}}
              <div data-ng-if="tag.product" class="fill">

                <img class="product-image" data-ng-src="&#123;&#123;tag.product.image.sizes.Large.url&#125;&#125;" src="<span data-ng-bind=" tag.product.image.sizes.Large.url ">{{tag.product.image.sizes.Large.url}}</span>">
                <span class="product-info">
              <span data-ng-bind="tag.product.name">{{tag.product.name}}</span>


                </span>
              </div>
            {{/if}}

          </div>
        {{/forEach}}

      </div>
    </div>
  </div>
</div>