<!DOCTYPE html>
<html id="ng-app" ng-app="app" ng-controller="AppCtrl">
  <head>
    <title ng-bind="pageTitle"></title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <link rel="stylsheet" type="text/css" href="http://localhost:5100/ribbon/shopsense-proto-0.0.1.css">
    <!-- <script src="http://localhost:5100/ribbon/shopsense-proto-0.0.1.js"></script> -->


    <!-- Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>

    <!-- Mixpanel -->
    <script type="text/javascript">
      (function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
      typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
      b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
    </script>
  </head>
  <body ui-event="{ dragover: '$event.preventDefault()', drop: '$event.preventDefault()' }">
    <header class="header hidden-xs">
      <img class="logo" src="assets/images/shopsense-logo.png">

      <nav class="navbar navbar-default main-nav" role="navigation">
        <ul class="nav navbar-nav">
          <li ng-class="{ active: openTab.name == 'search' }">
            <a ng-model="openTab.name" btn-radio="'search'"><i class="fa fa-search"></i> Search</a>
          </li>
<!--           <li class="hidden-xs" class="dropdown" ng-class="{ active: openTab.name == 'tools' }">
            <a href="#/tools">Tools</a>
          </li> -->
          <li ng-class="{ active: openTab.name == 'insights' }">
            <a ng-model="openTab.name" btn-radio="'insights'"><i class="fa fa-bar-chart-o"></i> Insights</a>
          </li>
          <li ng-class="{ active: openTab.name == 'account' }">
            <a ng-model="openTab.name" btn-radio="'account'"><i class="fa fa-user"></i> Account</a>
          </li>
          <li ng-class="{ active: openTab.name == 'tag' }">
            <a ng-model="openTab.name" btn-radio="'tag'"><i class="fa fa-circle-o"></i> Tag Photo</a>
          </li>
          <li ng-class="{ active: openTab.name == 'tools' }">
            <a ng-model="openTab.name" btn-radio="'tools'"><i class="fa fa-th"></i> Widget</a>
          </li>
          <li ng-class="{ active: openTab.name == 'post' }">
            <a ng-model="openTab.name" btn-radio="'post'"><i class="fa fa-plus"></i> Post</a>
          </li>
          <li class="main-selected-products-container">
            <a ng-show="selectedProducts.length" class="btn fa fa-times clear-selected-products-button" ng-click="utils.clear(selectedProducts)"></a>

            <a ng-click="utils.remove(selectedProducts, product)" class="main-selected-product" ng-repeat="product in selectedProducts">
              <img src="{{product.image.sizes.Small.url}}">
            </a>
          </li>
        </ul>
      </nav>
    </header>

    <nav class="mobile-nav visible-xs" role="navigation">
      <ul class="nav navbar-nav">
        <li ng-click="go('/search')" ng-class="{ active: openTab.name == 'search' }">
          <i class="fa fa-search"></i>
          <a>Products</a>
        </li ng-click="go('/tools')">
        <li ng-click="go('/tools')" class="dropdown" ng-class="{ active: openTab.name == 'tools' }">
          <i class="fa fa-star"></i>
          <a>LinkStar</a>
        </li>
        <li ng-click="go('/insights')" ng-class="{ active: openTab.name == 'insights' }">
          <i class="fa fa-bar-chart-o"></i>
          <a>Insights</a>
        </li>
        <li ng-click="go('/account')" ng-class="{ active: openTab.name == 'account' }">
          <i class="fa fa-cog"></i>
          <a>Account</a>
        </li>
      </ul>
    </nav>

    <!-- TODO: make into template -->
    <div ng-init="openTab.name = openTab.name || 'search'" ng-click="openTab.name = $event.target == $event.currentTarget ? null : openTab.name" ng-class="{ active: openTab.name }" ng-include="'templates/main-tab-content.tpl.html'" class="main-view content-background">
    </div>
    <!-- <div class="main-view" ui-view="main"></div> -->
  </body>
</html>

